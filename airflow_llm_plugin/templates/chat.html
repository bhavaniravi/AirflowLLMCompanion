{% extends "base.html" %}

{% block title %}LLM Chat - Airflow LLM Plugin{% endblock %}

{% block content %}
<div class="container py-5">
    <div class="row">
        <div class="col-12">
            <!-- Chat Card -->
            <div class="card mb-4 shadow-sm bg-light">
                <div class="card-header d-flex justify-content-between align-items-center bg-primary text-white">
                    <h5 class="mb-0">
                        <i class="fas fa-comments me-2"></i>Airflow LLM Companion
                    </h5>
                    <div>
                        <span id="model-info" class="badge bg-warning text-dark">No model configured</span>
                    </div>
                </div>
                <div class="card-body">
                    <p>
                        This feature allows you to chat with an LLM integrated with Airflow. You can ask questions about
                        your Airflow tasks, get help with DAG configuration, troubleshoot issues, or ask the AI for
                        general workflow automation advice.
                    </p>
                </div>
            </div>
            <div class="card mb-4 shadow-sm bg-light">
                <div class="card-header d-flex justify-content-between align-items-center bg-primary text-white">
                    <h5 class="mb-0 p-10">
                        <i class="fas fa-comments me-2"></i>Chat
                    </h5>
                </div>
                <div class="card-body chat-container">
                    <div id="messages-container" class="messages-container d-flex flex-column">
                        <p>start of message</p>
                    </div>
                </div>
                <!-- Input Section -->
                <div class="input-group mt-3">
                    <input type="text" id="message-input" class="form-control"
                        placeholder="Ask something about Airflow..." aria-label="Your message">
                    <button id="send-button" class="btn btn-primary">
                        <i class="fas fa-paper-plane"></i>
                    </button>
                </div>
            </div>

            <!-- About Section -->

        </div>
    </div>
</div>
{% endblock %}

{% block tail_js %}
<script src="{{ url_for('static', filename='airflow_llm_plugin/js/chat.js') }}"></script>
{% endblock %}